<!DOCTYPE html>
<html>
<head>
    <title>Chandeep Singh</title>

    <style>
    body {
        font-family: "Roboto", "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; 
        font-weight: 100;
        text-align: center;
    }

    .square {
        height: 100px;
        width: 100px;
        outline: 1px solid black;
        margin: 10px auto;
        display: inline-block;
    }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"></script>
    <script>
    function loaded() {
        console.log("Loaded!");

        function generatePrimaryColor() {
            // TODO: use chroma.random, and fudge color so that its "not too dark and not too light" so that we can generate darker and lighter alternatives. Can probably just adjust the luminance range?
            // return 'lightblue'
            return chroma.random().toString();
        }

        function generateDarkerColor(colorStr) {
            return chroma(colorStr).darken().hex();
        }

        function generateLighterColor(colorStr) {
            return chroma(colorStr).brighten().hex();
        }

        // Get the accent color by adding 180 degrees for hue
        function generateComplementColor(colorStr) {
            const c = chroma(colorStr);
            const hsl = c.hsl();
            const new_hue = (hsl[0] + 180) % 360;
            return chroma.hsl(new_hue, hsl[1], hsl[2]).toString();
        }

        function darken(querySelectorStr) {
            console.log("DARKEN ", querySelectorStr)
            const elements = document.querySelectorAll(querySelectorStr);

            elements.forEach((element) => {
                const color = window.getComputedStyle(element).backgroundColor
                console.log("Original color: ", color)
                const darkenedHex = chroma(color).darken().hex()
                console.log("Darkened color: ", darkenedHex);
                element.style.backgroundColor = darkenedHex;
            });
        }

        function assignColor(querySelectorStr, colorStr) {
            document.querySelectorAll(querySelectorStr).forEach((element) => {
                element.style.backgroundColor = colorStr;
            });
        }

        // Generate color palette
        const primaryColor = generatePrimaryColor();
        const primaryDarkColor = generateDarkerColor(primaryColor);
        const primaryLightColor = generateLighterColor(primaryColor);
        const complementColor = generateComplementColor(primaryColor);
        const complementDarkColor = generateDarkerColor(complementColor);
        const complementLightColor = generateLighterColor(complementColor);

        console.log('Primary Colors: ', { primaryColor, primaryDarkColor, primaryLightColor });
        console.log('Accent Colors: ', { complementColor, complementDarkColor, complementLightColor });

        // Assign colors
        assignColor('.primary-color', primaryColor);
        assignColor('.primary-dark-color', primaryDarkColor);
        assignColor('.primary-light-color', primaryLightColor);
        assignColor('.complement-color', complementColor);
        assignColor('.complement-dark-color', complementDarkColor);
        assignColor('.complement-light-color', complementLightColor);
    }

    window.onload = function() {
        loaded();
    }
    </script>
</head>
<body>
    <h1>Colour Palette Generator</h1>

    <div class='square primary-color'></div>
    <div class='square primary-dark-color'></div>
    <div class='square primary-light-color'></div>
    <div class='square complement-color'></div>
    <div class='square complement-dark-color'></div>
    <div class='square complement-light-color'></div>
    <div>
        <div class='square complement-light-color'></div>
        <div class='square complement-light-color'></div>
    </div>
</body>
</html>